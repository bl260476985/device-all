{"version":3,"sources":["webpack:///./src/app/components/device-group/device-group.component.css","webpack:///./src/app/components/device-group/device-group.component.html","webpack:///./src/app/components/device-group/device-group.component.ts","webpack:///./src/app/modules/device-group/device-group.module.ts","webpack:///./src/app/services/device-group.service.ts"],"names":[],"mappings":"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","file":"modules-device-group-device-group-module.js","sourcesContent":["module.exports = \".page{\\r\\n    background-color: #fff;\\r\\n    padding: 50px 25px 0 25px;\\r\\n}\\r\\n.chart{\\r\\n    /*margin-top: 50px;*/\\r\\n    text-align: center;\\r\\n}\\r\\n#c2{\\r\\n    width:70vw;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n.title{\\r\\n    font-size: 30px;\\r\\n    text-align: center;\\r\\n}\"","module.exports = \"<div class=\\\"page\\\">\\n    <div class=\\\"chart\\\">\\n        <div id=\\\"c2\\\" [hidden]=\\\"assign\\\"></div>\\n        <div *ngIf=\\\"assign\\\">\\n            <p class=\\\"title\\\">已选设备</p>\\n            <nz-table #basicTable [nzData]=\\\"chooseStationList\\\">\\n                <thead>\\n                    <tr>\\n                        <th>名称</th>\\n                        <th>单位名称</th>\\n                        <th>联系人</th>\\n                        <th>详细地址</th>\\n                        <th>操作</th>\\n                    </tr>\\n                </thead>\\n                <tbody>\\n                    <tr *ngFor=\\\"let data of chooseStationList\\\">\\n                        <td>{{data.name}}</td>\\n                        <td>{{data.enterprise_name}}</td>\\n                        <td>{{data.contacts}}</td>\\n                        <td>{{data.address}}</td>\\n                        <td>\\n                            <button type=\\\"button\\\" nz-button nzType=\\\"default\\\" nzSize=\\\"small\\\" (click)=\\\"deleteChoose(data)\\\">删除</button>\\n                        </td>\\n                    </tr>\\n                </tbody>\\n            </nz-table>\\n        </div>\\n    </div>\\n    <div nz-row style=\\\"margin:15px 0;\\\">\\n        <div class=\\\"search-left\\\" nz-col nzSm=\\\"14\\\">\\n            选择所属:\\n            <nz-select style=\\\"width:160px;\\\" nzAllowClear nzPlaceHolder=\\\"请选择\\\" [(ngModel)]=\\\"left_systemUserId\\\" (ngModelChange)=\\\"changeSystemUser($event)\\\">\\n                <nz-option *ngFor=\\\"let item of systemUser_list\\\" [nzValue]=\\\"item.id\\\" [nzLabel]=\\\"item.name\\\"></nz-option>\\n            </nz-select>\\n            <input type=\\\"text\\\" nz-input placeholder=\\\"输入设备号\\\" [(ngModel)]=\\\"info.query\\\" style=\\\"width:200px;margin-left:15px;\\\" (ngModelChange)=\\\"deviceNumberChange()\\\">\\n        </div>\\n        <div nz-col nzSm=\\\"10\\\" *ngIf=\\\"assign\\\">\\n            分配给:\\n            <nz-select style=\\\"width: 200px;\\\" nzAllowClear nzPlaceHolder=\\\"请选择\\\" [(ngModel)]=\\\"right_systemUserId\\\">\\n                <nz-option *ngFor=\\\"let item of right_systemUser_list\\\" [nzValue]=\\\"item.id\\\" [nzLabel]=\\\"item.name\\\"></nz-option>\\n            </nz-select>\\n            <button type=\\\"button\\\" nz-button nzType=\\\"primary\\\" class=\\\"pull-right\\\" (click)=\\\"confirm()\\\">确定</button>\\n            <button type=\\\"button\\\" nz-button nzType=\\\"default\\\" class=\\\"pull-right\\\" (click)=\\\"cancel()\\\" style=\\\"margin-right: 10px;\\\">取消</button>\\n        </div>\\n        <div nz-col nzSm=\\\"10\\\" *ngIf=\\\"!assign\\\">\\n            <button type=\\\"button\\\" nz-button nzType=\\\"primary\\\" class=\\\"pull-right\\\" (click)=\\\"assignDevice()\\\">分配设备</button>\\n        </div>\\n    </div>\\n    <div>\\n        <nz-table #deviceTable [nzData]=\\\"device_list\\\"\\n                                  [nzPageSize]=\\\"20\\\" \\n                                  [nzTotal]=\\\"info.total\\\" \\n                                  [nzFrontPagination]=\\\"false\\\" \\n                                  (nzPageIndexChange)=\\\"changePage($event)\\\"\\n                                  [nzLoading]=\\\"info.loading\\\">\\n                <thead>\\n                    <tr>\\n                        <th>名称</th>\\n                        <th>单位名称</th>\\n                        <th>联系人</th>\\n                        <th>详细地址</th>\\n                        <th *ngIf=\\\"assign\\\">操作</th>\\n                    </tr>\\n                </thead>\\n                <tbody>\\n                    <tr *ngFor=\\\"let data of deviceTable.data\\\">\\n                        <td>{{data.name}}</td>\\n                        <td>{{data.enterprise_name}}</td>\\n                        <td>{{data.contacts}}</td>\\n                        <td>{{data.address}}</td>\\n                        <td *ngIf=\\\"assign\\\">\\n                            <label nz-checkbox [(ngModel)]=\\\"data.checked\\\" (ngModelChange)=\\\"changeChecked($event,data)\\\"></label>\\n                        </td>\\n                    </tr>\\n                </tbody>\\n        </nz-table>\\n    </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { SystemUserService } from '../../services/system-user.service';\nimport { DeviceGroupService } from '../../services/device-group.service';\nimport { DictService } from '../../services/dict.service';\nimport { NzMessageService, zh_CN } from 'ng-zorro-antd';\nimport G2 from '@antv/g2';\n@Component({\n  selector: 'app-device-group',\n  templateUrl: './device-group.component.html',\n  styleUrls: ['./device-group.component.css']\n})\nexport class DeviceGroupComponent implements OnInit {\n  left_systemUserId;\n  right_systemUserId;\n  left_systemUser;\n  right_systemUser;\n  constructor(private systemUserService: SystemUserService, \n              private deviceGroupService: DeviceGroupService,\n              private dictService : DictService,\n              private message: NzMessageService) { }\n\n  ngOnInit() {\n      // 图表\n    this.chart = new G2.Chart({\n      container: 'c2',\n      forceFit: true,\n      height: 300\n    });\n    this.chart.source(this.user_list);\n    this.chart.interval().position('name*设备数量');\n    this.chart.render();\n\n    this.searchUser();\n    this.searchSystem();\n    this.searchDevice();\n  }\n  user_list = []\n  chart;\n  searchUser(){\n      this.systemUserService.statistics().subscribe((res)=>{\n          this.user_list = res['data']\n          const arr = [];\n          for(var i = 0;i < this.user_list.length;i++){\n              const key = this.user_list[i].name;\n              const value = this.user_list[i].value;\n              const obj = {name: key,'设备数量':value}\n              arr.push(obj)\n          }\n          this.chart.changeData(arr)\n      })\n  }\n  systemUser_list = [];\n  right_systemUser_list = [];\n  chooseStationList = [];\n  assign = false;\n  assignDevice(){\n      this.assign = true;\n  }\n  cancel(){\n      this.assign = false;\n  }\n  // 确认分配\n  confirm(){\n      const arr = [];\n      for(var i = 0;i<this.chooseStationList.length;i++){\n          arr.push(this.chooseStationList[i].id)\n      }\n      const condition = {\n          station_ids: arr,\n          bind_user_id: this.right_systemUserId\n      }\n      this.deviceGroupService.assign(condition).subscribe((res)=>{\n          console.log(res)\n          if(res['code']===0){\n              this.message.success('分配成功')\n              this.chooseStationList = [];\n              this.searchDevice();\n          }\n      })\n  }\n  searchSystem(){\n      const condition = {\n          type:'systemuser',\n          query:'',\n          limit:99,\n          offset:0\n      }\n      this.dictService.search(condition).subscribe((res)=>{\n          console.log(res)\n          this.systemUser_list = res['data']\n          this.left_systemUserId = JSON.parse(window.localStorage.getItem('systemInfo')).id;\n          const arr = this.systemUser_list.filter((item,index)=>{\n              return item.id === this.left_systemUserId\n          })\n          const enterprise_id = arr[0].enterprise_id;\n          this.searchRightSystem(enterprise_id);\n      })\n  }\n  searchRightSystem(ent_id){\n      const condition = {\n          type:'systemuser',\n          enterprise_id:ent_id,\n          query:'',\n          limit:99,\n          offset:0\n      }\n      this.dictService.search(condition).subscribe((res)=>{\n          console.log(res)\n          this.right_systemUser_list = res['data']\n      })\n  }\n  // 更改左边系统用户\n  changeSystemUser($event){\n      this.chooseStationList = [];\n      this.info.bind_user_id = $event;\n      this.right_systemUserId = '';\n      const arr = this.systemUser_list.filter((item,index)=>{\n          return item.id === $event\n      })\n      const enterprise_id = arr[0].enterprise_id;\n      this.searchRightSystem(enterprise_id);\n      this.searchDevice();\n  }\n  deviceNumberChange(){\n      this.searchDevice();\n  }\n  info = {\n      loading:false,\n      bind_user_id:JSON.parse(window.localStorage.getItem('systemInfo')).id,\n      query:'',\n      order_by:'created_at',\n      order:'desc',\n      offset:0,\n      limit:20,\n      total:0\n  }\n  device_list = [];\n  searchDevice(){\n      const condition = {\n          bind_user_id:this.info.bind_user_id,\n          query:this.info.query,\n          order_by:this.info.order_by,\n          order:this.info.order,\n          offset:this.info.offset,\n          limit:this.info.limit,\n          total:this.info.total\n      }\n      this.systemUserService.assignSearch(condition).subscribe((res)=>{\n          console.log(res)\n          this.device_list = res['data']['list'];\n          this.info.total = res['data']['total'];\n      })\n  }\n  changeChecked($event,data){\n      console.log($event)\n      console.log(data)\n      if($event === true){\n          this.chooseStationList.push(data);\n      }else{\n          this.chooseStationList.filter((item,index)=>{\n              return item.id != data.id\n          })\n      }\n  }\n  // 删除所选的设备组\n  deleteChoose(data){\n      const arr = this.chooseStationList.filter((item,index)=>{\n          return item.id != data.id\n      })\n      this.chooseStationList = arr;\n  }\n  changePage($event) {\n    this.info.offset = ($event - 1) * this.info.limit;\n    this.searchDevice();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { MycommonModule } from '../../modules/mycommon/mycommon.module';\nimport { DeviceGroupComponent } from '../../components/device-group/device-group.component';\n\nconst routes: Routes = [\n    { path:'', component: DeviceGroupComponent}\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MycommonModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [\n      DeviceGroupComponent\n  ]\n})\nexport class DeviceGroupModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { API } from '../../global';\n@Injectable({\n  providedIn: 'root'\n})\nexport class DeviceGroupService {\n\n  constructor(private http: HttpClient) { }\n  // 分配设备组\n  assign(condition) {\n      return this.http.post( API + '/station/station/assign', {content: JSON.stringify(condition)})\n  }\n}\n"],"sourceRoot":""}