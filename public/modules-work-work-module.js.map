{"version":3,"sources":["webpack:///./src/app/components/work-detail/work-detail.component.css","webpack:///./src/app/components/work-detail/work-detail.component.html","webpack:///./src/app/components/work-detail/work-detail.component.ts","webpack:///./src/app/components/work-order/work-order.component.css","webpack:///./src/app/components/work-order/work-order.component.html","webpack:///./src/app/components/work-order/work-order.component.ts","webpack:///./src/app/components/worker/worker.component.css","webpack:///./src/app/components/worker/worker.component.html","webpack:///./src/app/components/worker/worker.component.ts","webpack:///./src/app/modules/work/work.module.ts","webpack:///./src/app/services/work.service.ts"],"names":[],"mappings":"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","file":"modules-work-work-module.js","sourcesContent":["module.exports = \"\"","module.exports = \"<p>\\n  work-detail works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-work-detail',\n  templateUrl: './work-detail.component.html',\n  styleUrls: ['./work-detail.component.css']\n})\nexport class WorkDetailComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".export{\\r\\n    text-align: right;\\r\\n}\\r\\n.content{\\r\\n    padding: 20px;\\r\\n    background-color:#ffffff;\\r\\n}\\r\\n#chart{\\r\\n    margin: 0 auto;\\r\\n    width: 800px;\\r\\n    height: 400px;\\r\\n}\"","module.exports = \"<div class=\\\"page\\\">\\n  <div class=\\\"content\\\">\\n    <p class=\\\"export\\\">\\n      <!-- <button nz-button nzType=\\\"default\\\">导出</button> -->\\n    </p>\\n    <div>\\n       <div id=\\\"chart\\\">\\n\\n       </div>\\n    </div>\\n    <!-- <div ng-row>\\n        <div nz-col nzXl=\\\"6\\\">\\n            <input type=\\\"text\\\" nz-input placeholder=\\\"请输入设备串号\\\">\\n        </div>\\n    </div> -->\\n    <nz-table [nzData]=\\\"push_list\\\" \\n              [nzShowPagination]=\\\"true\\\"\\n              [nzTotal]=\\\"info.total\\\"\\n              (nzPageIndexChange)=\\\"changePage($event)\\\"\\n              >\\n      <thead>\\n        <tr>\\n          <th>微信用户标识</th>\\n          <th>平台账户</th>\\n          <th>报警时间</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr *ngFor=\\\"let data of push_list\\\">\\n          <td>{{data.open_id}}</td>\\n          <td>{{data.user_name}}</td>\\n          <td>{{data.uploaded_at}}</td>\\n        </tr>\\n      </tbody>\\n    </nz-table>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { WorkService } from '../../services/work.service';\nimport G2 from '@antv/g2';\n@Component({\n  selector: 'app-work-order',\n  templateUrl: './work-order.component.html',\n  styleUrls: ['./work-order.component.css']\n})\nexport class WorkOrderComponent implements OnInit {\n  info = {\n    query:'',\n    offset:0,\n    limit:20,\n    order_by:'uploaded_at',\n    order:'desc',\n    total:0\n  }\n  top_lsit = [];\n  push_list = [];\n  dataSet = [];\n  chart;\n  // 上面图表的数据\n  searchStatistics(){\n    this.workService.statistics().subscribe((res)=>{\n      console.log(res)\n      this.top_lsit = res['data'];\n          this.info.total = res['data'].length;\n          const arr = []\n          for(var i = 0; i< this.top_lsit.length;i++){\n              const obj = {name:this.top_lsit[i].name,'推送次数':this.top_lsit[i].value}\n              arr.push(obj)\n          }\n          console.log(arr)\n          this.chart.changeData(arr);\n    })\n  }\n  // 下面列表的数据\n  search(){\n    const condition = {\n      query:this.info.query,\n      offset:this.info.offset,\n      limit:this.info.limit,\n      order_by:this.info.order_by,\n      order:this.info.order,\n      total:this.info.total\n    }\n    this.workService.push(condition).subscribe((res)=>{\n      console.log(res)\n      this.push_list = res['data']['list'];\n      this.info.total = res['data']['total'];\n    })\n  }\n  constructor(private workService: WorkService) { }\n\n  ngOnInit() {\n    this.searchStatistics();\n    this.search();\n    this.chart = new G2.Chart({\n      container: 'chart',\n      forceFit: true,\n      height: 400,\n      width: 800\n    });\n    this.chart.source(this.top_lsit);\n    this.chart.scale('sales', {\n      nice: true\n    });\n    this.chart.interval().position('name*推送次数')\n    // .tooltip('未处理');\n    this.chart.render();\n  }\n\n  changePage($event){\n    this.info.offset = ($event - 1) * this.info.limit;\n    this.search();\n  }\n\n}\n","module.exports = \".header{\\r\\n    border-bottom: 1px solid #dedede;\\r\\n}\\r\\n.title{\\r\\n    font-size: 20px;\\r\\n    text-align: center;\\r\\n}\\r\\n.work-content{\\r\\n    padding: 20px;\\r\\n    background-color: #ffffff;\\r\\n}\\r\\n.second-header{\\r\\n    padding: 10px 0;\\r\\n    border-bottom: 1px solid #dedede;\\r\\n}\\r\\n.item-left p{\\r\\n    margin-bottom: 0!important;\\r\\n}\\r\\n.item-left p:last-child{\\r\\n    margin-bottom: 10px!important;\\r\\n}\\r\\n.item-right{\\r\\n    text-align: center;\\r\\n}\\r\\n.work-item{\\r\\n    text-align: left;\\r\\n    border-bottom: 1px solid #dedede;\\r\\n    /*padding: 10px;*/\\r\\n    padding: 20px 10px;\\r\\n}\\r\\n.work-item:hover{\\r\\n    background-color: #f8f8f8;\\r\\n}\"","module.exports = \"<div class=\\\"page\\\">\\n\\t<div class=\\\"work-content\\\">\\n\\t\\t<div class=\\\"header\\\" nz-row>\\n\\t\\t\\t<div nz-col nzMd=\\\"22\\\">\\n\\t\\t\\t\\t<p class=\\\"title\\\">报警详情</p>\\n\\t\\t   </div>\\n\\t\\t   <div nz-col nzMd=\\\"2\\\">\\n\\t\\t\\t\\t<!-- <button nz-button nzType=\\\"danger\\\" nzSize=\\\"default\\\"  (click)=\\\"showModal()\\\">添加工单</button> -->\\n\\t\\t   </div>\\n\\t\\t</div>\\n\\t\\t<!-- <div class=\\\"second-header\\\">\\n\\t\\t\\t请选择工作状态:\\n\\t\\t\\t<nz-select style=\\\"width: 120px;\\\" [(ngModel)]=\\\"selectWorkStatus\\\" nzPlaceHolder=\\\"Choose\\\">\\n\\t\\t\\t\\t<nz-option nzValue=\\\"0\\\" nzLabel=\\\"全部\\\"></nz-option>\\n\\t\\t\\t\\t<nz-option nzValue=\\\"1\\\" nzLabel=\\\"已创建\\\"></nz-option>\\n\\t\\t\\t\\t<nz-option nzValue=\\\"2\\\" nzLabel=\\\"已确认\\\"></nz-option>\\n\\t\\t\\t\\t<nz-option nzValue=\\\"3\\\" nzLabel=\\\"处理中\\\"></nz-option>\\n\\t\\t\\t\\t<nz-option nzValue=\\\"4\\\" nzLabel=\\\"已完成\\\"></nz-option>\\n\\t\\t\\t\\t<nz-option nzValue=\\\"5\\\" nzLabel=\\\"已取消\\\"></nz-option>\\n\\t\\t\\t\\t<nz-option nzValue=\\\"6\\\" nzLabel=\\\"已删除\\\"></nz-option>\\n\\t\\t\\t</nz-select>\\n\\t\\t</div> -->\\n\\t\\t<div class=\\\"content\\\">\\n\\t\\t\\t<div class=\\\"work-item\\\" nz-row *ngFor=\\\"let item of warning_list;let i = index\\\"  (click)=\\\"goDetail(item)\\\">\\n\\t\\t\\t\\t<div class=\\\"item-top\\\" >\\n\\t\\t\\t\\t\\t<div class=\\\"item-left\\\" nz-col nzMd=\\\"18\\\">\\n\\t\\t\\t\\t\\t\\t<a>\\n\\t\\t\\t\\t\\t\\t\\t<p>{{item.type_name}}</p>\\n\\t\\t\\t\\t\\t\\t\\t<p>{{item.warning_content}}</p>\\n\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"item-right\\\" nz-col nzMd=\\\"3\\\">\\n\\t\\t\\t\\t\\t\\t<div>{{item.uploaded_at}}</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<!-- <div class=\\\"item-right\\\" nz-col nzMd=\\\"3\\\">\\n\\t\\t\\t\\t\\t\\t<div>已创建</div>\\n\\t\\t\\t\\t\\t</div> -->\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"item-bottom\\\" nz-col nzMd=\\\"24\\\">\\n\\t\\t\\t\\t\\t<!-- <p>当前0条维护记录</p> -->\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"footer clearfix\\\" style=\\\"margin-top: 20px;\\\">\\n\\t\\t\\t<nz-pagination [nzPageIndex]=\\\"1\\\" [nzTotal]=\\\"info.total\\\" [nzPageSize]=\\\"20\\\" (nzPageIndexChange)=\\\"changePage($event)\\\" class=\\\"pull-right\\\"></nz-pagination>\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n<nz-modal [(nzVisible)]=\\\"isVisible\\\" nzTitle=\\\"添加工单\\\" (nzOnCancel)=\\\"handleCancel()\\\" (nzOnOk)=\\\"submitForm()\\\">\\n\\t\\t<form nz-form [formGroup]=\\\"addForm\\\" nz-row (ngSubmit)=\\\"submitForm()\\\">\\n\\t\\t\\t<nz-form-item>\\n\\t\\t\\t\\t<nz-form-label nzMd=\\\"6\\\">选择设备</nz-form-label>\\n\\t\\t\\t\\t<nz-form-control nzMd=\\\"14\\\">\\n\\t\\t\\t\\t\\t<nz-select style=\\\"width: 100%;\\\" [(ngModel)]=\\\"selectedValue\\\" nzMd=\\\"24\\\" formControlName=\\\"selectDevice\\\" nzPlaceHolder=\\\"选择设备\\\">\\n\\t\\t\\t\\t\\t\\t<nz-option nzValue=\\\"空\\\" nzLabel=\\\"空\\\"></nz-option>\\n\\t\\t\\t\\t\\t\\t<nz-option nzValue=\\\"jack\\\" nzLabel=\\\"Jack\\\"></nz-option>\\n\\t\\t\\t\\t\\t\\t<nz-option nzValue=\\\"lucy\\\" nzLabel=\\\"Lucy\\\"></nz-option>\\n\\t\\t\\t\\t\\t\\t<nz-option nzValue=\\\"disabled\\\" nzLabel=\\\"Disabled\\\" nzDisabled></nz-option>\\n\\t\\t\\t\\t\\t</nz-select>\\n\\t\\t\\t\\t</nz-form-control>\\n\\t\\t\\t</nz-form-item>\\n\\t\\t\\t<nz-form-item>\\n\\t\\t\\t\\t<nz-form-label nzMd=\\\"6\\\">指派人员</nz-form-label>\\n\\t\\t\\t\\t<nz-form-control nzMd=\\\"14\\\">\\n\\t\\t\\t\\t\\t<nz-select style=\\\"width: 100%;\\\" [(ngModel)]=\\\"selectAssign\\\" nzMd=\\\"24\\\" formControlName=\\\"selectAssign\\\" nzPlaceHolder=\\\"选择指派人员\\\" >\\n\\t\\t\\t\\t\\t\\t<nz-option nzValue=\\\"山西电网\\\" nzLabel=\\\"山西电网\\\"></nz-option>\\n\\t\\t\\t\\t\\t\\t<nz-option nzValue=\\\"销售001\\\" nzLabel=\\\"销售001\\\"></nz-option>\\n\\t\\t\\t\\t\\t\\t<nz-option nzValue=\\\"销售002\\\" nzLabel=\\\"销售002\\\"></nz-option>\\n\\t\\t\\t\\t\\t</nz-select>\\n\\t\\t\\t\\t</nz-form-control>\\n\\t\\t\\t</nz-form-item>\\n\\t\\t\\t<nz-form-item>\\n\\t\\t\\t\\t<nz-form-label nzMd=\\\"6\\\">标题</nz-form-label>\\n\\t\\t\\t\\t<nz-form-control nzMd=\\\"14\\\">\\n\\t\\t\\t\\t\\t<input type=\\\"text\\\" nz-input formControlName=\\\"title\\\" nzPlaceHolder=\\\"请输入标题 \\\">\\n\\t\\t\\t\\t</nz-form-control>\\n\\t\\t\\t</nz-form-item>\\n\\t\\t\\t<nz-form-item>\\n\\t\\t\\t\\t<nz-form-label nzMd=\\\"6\\\">内容</nz-form-label>\\n\\t\\t\\t\\t<nz-form-control nzMd=\\\"14\\\">\\n\\t\\t\\t\\t\\t<textarea name=\\\"\\\" id=\\\"\\\" rows=\\\"4\\\" nz-input formControlName=\\\"content\\\" nzPlaceHolder=\\\"请输入内容\\\"></textarea>\\n\\t\\t\\t\\t</nz-form-control>\\n\\t\\t\\t</nz-form-item>\\n\\t\\t</form>\\n</nz-modal>\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators} from '@angular/forms';\nimport { WorkService } from '../../services/work.service';\n\n@Component({\n  selector: 'app-worker',\n  templateUrl: './worker.component.html',\n  styleUrls: ['./worker.component.css'],\n})\nexport class WorkerComponent implements OnInit {\n  info = {\n    offset:0,\n    limit:20,\n    order_by:'uploaded_at',\n    order:'desc',\n    total:0\n  }\n  warning_list = []\n  searchManage(){\n    const condition = {\n      offset:this.info.offset,\n      limit:this.info.limit,\n      order_by:this.info.order_by,\n      order:this.info.order,\n      // total:this.info.total\n    }\n    this.workService.manage(condition).subscribe((res)=>{\n      console.log(res)\n      this.warning_list = res['data']['list'];\n      this.info.total = res['data']['total'];\n    })\n  }\n  selectWorkStatus = '0';\n  selectedValue = '空';\n  selectAssign = '山西电网';\n  isVisible = false;\n  addForm: FormGroup;\n  showModal(): void {\n    this.isVisible = true;\n  }\n  handleCancel(): void {\n    this.isVisible = false;\n  }\n  handleOk(): void {\n    console.log('123');\n  }\n  submitForm() {\n    console.log(this.addForm.value);\n  }\n\n  constructor(private fb: FormBuilder, private workService: WorkService) {\n\n  }\n\n  ngOnInit() {\n    this.searchManage()\n    this.addForm = this.fb.group({\n      selectDevice: [null, [Validators.required]],\n      selectAssign: [null, [Validators.required]],\n      title: [null, [Validators.required]],\n      content: [null, [Validators.required]],\n    });\n  }\n  changePage($event){\n      console.log($event)\n      this.info.offset = ($event - 1) * this.info.limit;\n      this.searchManage();\n  }\n  goDetail(item){\n    // [routerLink]=\"['/work/detail',item.id]\"\n    const id = item.id\n    \n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { WorkerComponent } from '../../components/worker/worker.component';\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { WorkOrderComponent } from '../../components/work-order/work-order.component';\nimport { WorkDetailComponent } from '../../components/work-detail/work-detail.component';\n\n\nconst routes: Routes = [\n  {path: '', component: WorkerComponent},\n  {path:'detail/:id', component: WorkDetailComponent},\n  {path: 'Order', component: WorkOrderComponent},\n];\n@NgModule({\n  imports: [\n    CommonModule,\n    NgZorroAntdModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [\n    WorkerComponent,\n    WorkOrderComponent,\n    WorkDetailComponent\n  ]\n})\nexport class WorkModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { API } from '../../global';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkService {\n\n  constructor(private http: HttpClient) { }\n  // 工单下的报警管理\n  manage(condition) {\n      return this.http.post( API + '/work/warn/manage', {content: JSON.stringify(condition)})\n  }\n  // 工单下的推送管理列表\n  push(condition) {\n      return this.http.post( API + '/work/push/manage', {content: JSON.stringify(condition)})\n  }\n  // 工单下的推送管理顶部的柱状图\n  statistics(){\n      return this.http.post( API + '/work/push/statistics', null)\n  }\n}\n"],"sourceRoot":""}